# Set-FasRaCertificateMonitor

## Synopsis
Modify the FAS RA Certificate Monitor configuration.

## Syntax

```
Set-FasRaCertificateMonitor [-Enabled <Boolean>] [-WarningThresholdInDays <Int>] [-CheckIntervalInHours <Int>]
 [-CustomCheckInterval <TimeSpan>] [-Address <String>] [-UserName <String>] [-Password <String>]
 [<CommonParameters>]
```

## Description
This command modifies the configuration of the FAS RA Certificate Monitor.

The FAS RA Certificate Monitor checks the configured RA certificate(s) (also known as "authorization certificates") to determine
if the certificate is close to expiry.

The check is performed when the FAS service starts and periodically thereafter.

When a check is performed, the following event log events are generated by the "Citrix.Authentication.FederatedAuthenticationService" event source:
  - 413: warning event logged if an RA certificate is close to expiry
  - 414: warning event logged if an RA certificate is expired
  - 415: information event logged to indicate that an RA certificate check has been performed

When a check is performed, the following event log events are generated by the "Citrix.Authentication.FederatedAuthenticationService" event source:

-  413: warning event logged if an RA certificate is close to expiry
-  414: warning event logged if an RA certificate is expired
-  415: information event logged to indicate that an RA certificate check has been performed

The default settings are:
  - CheckInterval:    1 day (i.e.
the check for expiring certificates is performed at service start-up and every 1 day thereafter)
  - WarningThreshold: 30 days (i.e.
an expiry warning will be logged if the RA certificate will expire within 30 days)
  - Enabled:          true (checking is enabled by default)

The check interval, warning threshold, and enabled settings can be adjusted with this command.

## Examples

### Example 1
PS C:\\\>

```
C:\PS> $CitrixFasAddress="localhost"
C:\PS> Reset-FasRaCertificateMonitor
C:\PS> Set-FasRaCertificateMonitor -WarningThresholdInDays 14
C:\PS> Get-FasRaCertificateMonitor
```

Description

-----------

This code resets the configuration to the defaults, then sets the warning threshold to 14 days, and displays the result.

## Parameters

### -Enabled
Specify if RA certificate monitoring is enabled.

```yaml
Type: Boolean
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: (no change)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -WarningThresholdInDays
Specify how close to expiry the RA certificate must be for a warning to be logged, in days.

```yaml
Type: Int
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: (no change)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -CheckIntervalInHours
Specify how often the check should be performed, in hours.

```yaml
Type: Int
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: (no change)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -CustomCheckInterval
Specify how often the check should be performed, using a TimeSpan.
This parameter is primarily for testing 
purposes; normally you would use the CheckIntervalInHours parameter.

```yaml
Type: TimeSpan
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: (no change)
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Address
Address of FAS Server (or $NULL to use $CitrixFasAddress)

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $CitrixFasAddress
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -UserName
User name to use for authentication to FAS server ($NULL for current user account)

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $NULL
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Password
Password for authentication to FAS server ($NULL for current user account)

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: $NULL
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### CommonParameters
This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see [about_CommonParameters](http://go.microsoft.com/fwlink/?LinkID=113216).

## Inputs

### Variable, based on property name.
This cmdlet does accept input from the pipeline but only by property name.

## Outputs

### void
This cmdlet does not return a value

## Notes

## Related Links

[Get-FasRaCertificateMonitor]()

[Reset-FasRaCertificateMonitor]()


